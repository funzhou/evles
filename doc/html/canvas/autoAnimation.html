<!doctype html>
<html><head>
<meta charset="utf-8">
<title>canvas-autoAnimation</title>
<meta name="keywords" content="" />
<meta name="description" content="elves.js" /> 
<meta name="author" content="elves Team" />
<link rel="stylesheet" type="text/css" href="../style/style.css" />
</head>

<body>
<h1><strong>autoAnimation(option)</strong></h1>
<h2>概述</h2>
<p>canvas方法之一。用于控制动画是否可以执行。</p>

<h3>参数:option</h3>
<p>参数只能是布尔类型</p>

 
<h3>描述:</h3>
<p>禁止动画执行</p>

<h4>HTML 代码:</h4>
<pre>&lt;canvas id="test" width="507px" height="320px" style="border:1px solid #F00"&gt;</pre>
<h4>elves 代码:</h4>
<pre>
$.cacheImg('porker', '../img/img.png');   <span class="green">//预先加载img资源</span> 
  
$(function() {
	$("#test").canvas("desk");   //初始化canvas		
	$("$desk").autoAnimation(false);   //禁止canvas对象内执行动画 。
    $("$desk").entity("card1",{    //将初始化的canvas转成entity对象， 并命名为"card1"
            sx : 0,   
            sy : 0,   
            sw : 50,    
            sh : 30,    
            dx : 0,    
            dy : 0,    
            dw : 50,  
            dh : 30  
	})
	.res("porker")    
	.animation()    //将entity对象转成animation对象
	.to({dx:100,dy:0},1000)   //使用animation对象的动画方法to，向右位移100,动画持续1000毫秒
	.start();   //执行动画
});

</pre>
<h4>demo:</h4>
<p>
<script type="text/javascript" src="../../../src/elves.js"></script>
<script type="text/javascript" src="../../../src/plugin/dom.js"></script>
<script type="text/javascript">
$.cacheImg('porker', '../img/img.png');   
$(function() {
	$("#test").canvas("desk"); //初始化canvas		
	$("$desk").entity("card1",{    //将初始化的canvas转成entity对象， 并命名为"card1"
            sx : 0,   
            sy : 0,   
            sw : 50,    
            sh : 30,    
            dx : 0,    
            dy : 0,    
            dw : 50,  
            dh : 30,   
	})
	.res("porker").draw();
});

function move(){
	
	$("$desk@card1").remove();
	var x = 200;
	var y = 0;
	var t = 1200;
	
	$("#test").canvas("desk").autoAnimation(true); 
	
	$("$desk").entity("card1",{    //将初始化的canvas转成entity对象， 并命名为"card1"
            sx : 0,   
            sy : 0,   
            sw : 50,    
            sh : 30,    
            dx : 0,    
            dy : 0,    
            dw : 50,  
            dh : 30,   
	})
	.res("porker").draw();
	
	setTimeout(function(){   
	$("$desk@card1").animation()    //将entity对象转成animation对象
	.to({dx:x,dy:y},t)   //使用animation对象的动画方法to，向右位移100,动画持续1000毫秒
	.start();   //执行动画
	},400)
}

function nomove(){
	
	$("$desk@card1").remove();
	var x = 200;
	var y = 0;
	var t = 1200;
	
	$("#test").canvas("desk").autoAnimation(false); 
	
	$("$desk").entity("card1",{    //将初始化的canvas转成entity对象， 并命名为"card1"
            sx : 0,   
            sy : 0,   
            sw : 50,    
            sh : 30,    
            dx : 0,    
            dy : 0,    
            dw : 50,  
            dh : 30,   
	})
	.res("porker").draw();
	
	setTimeout(function(){   
	$("$desk@card1").animation()    //将entity对象转成animation对象
	.to({dx:x,dy:y},t)   //使用animation对象的动画方法to，向右位移100,动画持续1000毫秒
	.start();   //执行动画
	},400)
}
</script>
<canvas id="test" width="507px" height="320px" style="border:1px solid #F00"></canvas>
<br /> <input type="button" onClick="move()" value="执行动画">&nbsp;&nbsp;
 <input type="button" onClick="nomove()" value="禁止动画">&nbsp;&nbsp;

</p>

</body>
</html>
